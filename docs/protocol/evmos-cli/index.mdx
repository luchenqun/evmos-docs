import ProjectValue from '@site/src/components/ProjectValue';

# Evmos CLI

`evmosd` æ˜¯ä¸€ä½“åŒ–çš„å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰ã€‚å®ƒå…è®¸æ‚¨è¿è¡Œ Evmos èŠ‚ç‚¹ï¼Œç®¡ç†é’±åŒ…ï¼Œå¹¶é€šè¿‡æŸ¥è¯¢å’Œäº¤æ˜“ä¸ Evmos ç½‘ç»œè¿›è¡Œäº¤äº’ã€‚æœ¬ä»‹ç»å°†è§£é‡Šå¦‚ä½•å°† `evmosd` äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…åˆ°æ‚¨çš„ç³»ç»Ÿï¼Œå¹¶æŒ‡å¯¼æ‚¨é€šè¿‡ä¸€äº›ç®€å•çš„ç¤ºä¾‹æ¥ä½¿ç”¨ evmosdã€‚

## å…ˆå†³æ¡ä»¶

#### Go

Evmos ä½¿ç”¨ [Go](https://golang.org/dl/) ç‰ˆæœ¬ `1.20+` æ„å»ºã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ‚¨çš„ç‰ˆæœ¬ï¼š

```bash
go version
```

å®‰è£…æ­£ç¡®çš„ç‰ˆæœ¬åï¼Œç¡®è®¤æ‚¨çš„ [`GOPATH`](https://golang.org/doc/gopath_code#GOPATH) é…ç½®æ­£ç¡®ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¹¶å°†å…¶æ·»åŠ åˆ°æ‚¨çš„ shell å¯åŠ¨è„šæœ¬ä¸­ï¼š

```bash
export PATH=$PATH:$(go env GOPATH)/bin
```

#### jq

Evmos è„šæœ¬ä½¿ç”¨ [jq](https://stedolan.github.io/jq/download/) ç‰ˆæœ¬ `1.6+`ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ‚¨çš„ç‰ˆæœ¬ï¼š

```
jq --version
```

## å®‰è£…

æ‚¨å¯ä»¥ä»ä»“åº“ä¸‹è½½æœ€æ–°çš„äºŒè¿›åˆ¶æ–‡ä»¶å¹¶å®‰è£…ï¼Œæˆ–è€…æ‚¨å¯ä»¥ä»æºä»£ç æˆ–ä½¿ç”¨ Docker æ„å»ºå’Œå®‰è£… `evmosd` äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

### ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶

- å‰å¾€[ä»“åº“çš„å‘å¸ƒéƒ¨åˆ†](https://github.com/evmos/evmos/releases)
- é€‰æ‹©æ‚¨è¦å®‰è£…åœ¨è®¡ç®—æœºä¸Šçš„æ‰€éœ€å‘å¸ƒç‰ˆæˆ–é¢„å‘å¸ƒç‰ˆ
- ä» `Assets` ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©å¹¶ä¸‹è½½é€‚ç”¨äºæ‚¨çš„æ“ä½œç³»ç»Ÿçš„ tar æˆ– zip æ–‡ä»¶
- è§£å‹æ–‡ä»¶ã€‚`evmosd` äºŒè¿›åˆ¶æ–‡ä»¶ä½äºè§£å‹æ–‡ä»¶çš„ `bin` ç›®å½•ä¸­
- å°† `evmosd` äºŒè¿›åˆ¶æ–‡ä»¶æ·»åŠ åˆ°æ‚¨çš„è·¯å¾„ä¸­ï¼Œä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†å…¶ç§»åŠ¨åˆ° `$(go env GOPATH)/bin`

å®‰è£…å®Œæˆåï¼Œæ£€æŸ¥ `evmosd` äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¦å·²æˆåŠŸå®‰è£…ï¼š

```bash
evmosd version
```

### ä»æºä»£ç æ„å»º

ä½¿ç”¨ `git` å…‹éš†å¹¶ä»æºä»£ç æ„å»º Evmosã€‚`<tag>` æ˜¯ Github ä¸Šçš„ä¸€ä¸ªå‘å¸ƒæ ‡ç­¾ã€‚åœ¨[ä»“åº“çš„å‘å¸ƒéƒ¨åˆ†](https://github.com/evmos/evmos/releases)æ£€æŸ¥æœ€æ–°çš„ Evmos ç‰ˆæœ¬ï¼š

```bash
git clone https://github.com/evmos/evmos.git
cd evmos
git fetch
git checkout <tag>
make install
```

å®‰è£…å®Œæˆåï¼Œæ£€æŸ¥ evmosd äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¦å·²æˆåŠŸå®‰è£…ï¼š

```bash
evmosdç‰ˆæœ¬
```

:::info
å¦‚æœè¿”å›`evmosd: command not found`é”™è¯¯æ¶ˆæ¯ï¼Œè¯·ç¡®è®¤æ‚¨å·²æ­£ç¡®é…ç½®[Go](#go)ã€‚
:::

### Docker

åœ¨ä½¿ç”¨Evmosä¸Dockeræ—¶ï¼Œæœ‰ä¸¤ä¸ªå¯ç”¨é€‰é¡¹ï¼š
åœ¨dockeråŒ–çš„æ„å»ºç¯å¢ƒä¸­æ„å»ºEvmoså®ˆæŠ¤ç¨‹åºçš„äºŒè¿›åˆ¶æ–‡ä»¶
æˆ–è€…æ„å»ºä¸€ä¸ªDockeré•œåƒï¼Œå¯ä»¥ç”¨æ¥å¯åŠ¨è¿è¡ŒEvmosäºŒè¿›åˆ¶æ–‡ä»¶çš„å•ç‹¬å®¹å™¨ã€‚
æœ‰å…³å¦‚ä½•å®ç°æ­¤ç›®æ ‡çš„ä¿¡æ¯ï¼Œè¯·è½¬åˆ°[ä½¿ç”¨Docker](./docker-build.md)çš„ä¸“ç”¨é¡µé¢ã€‚

## è¿è¡ŒEvmosèŠ‚ç‚¹

ä¸ºäº†ç†Ÿæ‚‰Evmosï¼Œæ‚¨å¯ä»¥è¿è¡Œä¸€ä¸ªæœ¬åœ°åŒºå—é“¾èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ç”ŸæˆåŒºå—å¹¶å…¬å¼€EVMå’ŒCosmosç«¯ç‚¹ã€‚è¿™ä½¿æ‚¨å¯ä»¥åœ¨æœ¬åœ°éƒ¨ç½²å’Œä¸æ™ºèƒ½åˆçº¦äº¤äº’ï¼Œæˆ–è€…æµ‹è¯•æ ¸å¿ƒåè®®åŠŸèƒ½ã€‚

é€šè¿‡åœ¨å­˜å‚¨åº“çš„åŸºæœ¬ç›®å½•ä¸­æ‰§è¡Œ`local_node.sh`è„šæœ¬æ¥è¿è¡Œæœ¬åœ°èŠ‚ç‚¹ï¼š

```bash
./local_node.sh
```

è¯¥è„šæœ¬å°†èŠ‚ç‚¹é…ç½®ï¼ˆåŒ…æ‹¬æœ¬åœ°é»˜è®¤ç«¯ç‚¹ï¼‰å­˜å‚¨åœ¨`~/.tmp-evmosd/config/config.toml`ä¸‹ã€‚å¦‚æœæ‚¨ä¹‹å‰è¿è¡Œè¿‡è¯¥è„šæœ¬ï¼Œè„šæœ¬å°†å…è®¸æ‚¨è¦†ç›–ç°æœ‰é…ç½®å¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„æœ¬åœ°èŠ‚ç‚¹ã€‚

ä¸€æ—¦æ‚¨çš„èŠ‚ç‚¹è¿è¡Œèµ·æ¥ï¼Œæ‚¨å°†åœ¨æœ¬åœ°EvmosåŒºå—é“¾ä¸­çœ‹åˆ°å®ƒæ­£åœ¨éªŒè¯å’Œç”ŸæˆåŒºå—ï¼š

```bash
12:59PM INF executed block height=1 module=state num_invalid_txs=0 num_valid_txs=0 server=node
# ...
1:00PM INF indexed block exents height=7 module=txindex server=node
```

æœ‰å…³å¦‚ä½•è‡ªå®šä¹‰æœ¬åœ°èŠ‚ç‚¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è½¬åˆ°[å•èŠ‚ç‚¹](./evmos-cli/single-node)é¡µé¢ã€‚

## ä½¿ç”¨`evmosd`

å®‰è£…`evmosd`äºŒè¿›åˆ¶æ–‡ä»¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œå‘½ä»¤ï¼š

```bash
evmosd [command]
```

è¿˜æœ‰ä¸€ä¸ªå¯ç”¨çš„`-h`ï¼Œ`--help`å‘½ä»¤

```bash
evmosd -h
```

å¯ä»¥åŒæ—¶ç»´æŠ¤å¤šä¸ªèŠ‚ç‚¹é…ç½®ã€‚è¦æŒ‡å®šé…ç½®ï¼Œè¯·ä½¿ç”¨`--home`æ ‡å¿—ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä½äº`~/.tmp-evmosd`çš„æœ¬åœ°èŠ‚ç‚¹çš„é»˜è®¤é…ç½®ã€‚

### ç®¡ç†é’±åŒ…

æ‚¨å¯ä»¥ä½¿ç”¨evmosdäºŒè¿›åˆ¶æ–‡ä»¶ç®¡ç†æ‚¨çš„é’±åŒ…ï¼Œä»¥å­˜å‚¨ç§é’¥å¹¶é€šè¿‡CLIç­¾ç½²äº¤æ˜“ã€‚è¦æŸ¥çœ‹æ‰€æœ‰å¯†é’¥ï¼Œè¯·ä½¿ç”¨ï¼š

```bash
evmosd keys list \
--home ~/.tmp-evmosd \
--keyring-backend test

# Example Output:
# - address: evmos19xnmslvl0pcmydu4m52h2gf0std5ee5pfgpyuf
#   name: dev0
#   pubkey: '{"@type":"/ethermint.crypto.v1.ethsecp256k1.PubKey","key":"AzKouyoUL0UUS1qRUZdqyVsTPkCAFWwxx3+BTOw36nKp"}'
#   type: local
```

æ‚¨å¯ä»¥ä½¿ç”¨`$NAME`ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯†é’¥/åŠ©è®°è¯ï¼š

```bash
evmosd keys add [name] \
--home ~/.tmp-evmosd \
--keyring-backend test
```

å°†æ‚¨çš„ evmos å¯†é’¥å¯¼å‡ºä¸ºä»¥å¤ªåŠç§é’¥ï¼ˆä¾‹å¦‚ç”¨äº [Metamask](./../../../use/connect-your-wallet/metamask)ï¼‰ï¼š

```bash
evmosd keys unsafe-export-eth-key [name] \
--home ~/.tmp-evmosd \
--keyring-backend test
```

è¦äº†è§£æ›´å¤šå¯ç”¨çš„å¯†é’¥å‘½ä»¤ï¼Œè¯·ä½¿ç”¨ `--help` æ ‡å¿—ï¼š

```bash
evmosd keys -h
```

:::tip
æœ‰å…³å¯†é’¥ç¯åŠå…¶åç«¯é€‰é¡¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·ç‚¹å‡»[æ­¤å¤„](../concepts/keyring.md)ã€‚
:::

### ä¸ç½‘ç»œäº¤äº’

æ‚¨å¯ä»¥ä½¿ç”¨ evmosd åœ¨åŒºå—é“¾ä¸ŠæŸ¥è¯¢ä¿¡æ¯æˆ–æäº¤äº¤æ˜“ã€‚æŸ¥è¯¢å’Œäº¤æ˜“æ˜¯é€šè¿‡ Tendermint RPC å‘ Evmos èŠ‚ç‚¹å‘é€çš„è¯·æ±‚ã€‚

:::tip
ğŸ‘‰ è¦ä½¿ç”¨ CLIï¼Œæ‚¨éœ€è¦ä¸º `--node` æ ‡å¿—æä¾› Tendermint RPC åœ°å€ã€‚
åœ¨[ç½‘ç»œ](./../../develop/api/networks)é¡µé¢ä¸­å¯»æ‰¾æµ‹è¯•ç½‘å’Œä¸»ç½‘çš„å…¬å¼€å¯ç”¨åœ°å€ã€‚
:::

#### è®¾ç½®ç½‘ç»œé…ç½®

åœ¨æœ¬åœ°è®¾ç½®ä¸­ï¼ŒèŠ‚ç‚¹è®¾ç½®ä¸º `tcp://localhost:26657`ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹èŠ‚ç‚¹é…ç½®ï¼š

```bash
evmosd config \
--home ~/.tmp-evmosd
# Example Output
# {
# 	"chain-id": "evmos_9000-1",
# 	"keyring-backend": "test",
# 	"output": "text",
# 	"node": "tcp://localhost:26657",
# 	"broadcast-mode": "sync"
# }
```

æ‚¨å¯ä»¥é€šè¿‡æ›´æ”¹ç«¯ç‚¹å°†èŠ‚ç‚¹é…ç½®è®¾ç½®ä¸ºå‘ä¸åŒçš„ç½‘ç»œå‘é€è¯·æ±‚ï¼š

```bash
evmosd config node [tendermint-rpc-endpoint] \
--home ~/.tmp-evmosd
```

äº†è§£æ›´å¤šèŠ‚ç‚¹é…ç½®ï¼Œè¯·ç‚¹å‡»[æ­¤å¤„](configuration.mdx)ã€‚

#### æŸ¥è¯¢

æ‚¨å¯ä»¥ä½¿ç”¨ `evmosd query`ï¼ˆç®€å†™ä¸º `evmosd q`ï¼‰åœ¨åŒºå—é“¾ä¸ŠæŸ¥è¯¢ä¿¡æ¯ã€‚è¦æŸ¥çœ‹å­˜å‚¨åœ¨é“¶è¡Œæ¨¡å—ä¸­çš„è´¦æˆ·ä½™é¢ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
evmosd q bank balances [adress] \
--home ~/.tmp-evmosd
# # Example Output:
# balances:
# - amount: "99999000000000000000002500"
#   denom: aevmos
```

è¦æŸ¥çœ‹å…¶ä»–å¯ç”¨çš„æŸ¥è¯¢å‘½ä»¤ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# for all Queries
evmosd q

# for querying commands in the bank module
evmosd q bank
```

#### äº¤æ˜“

æ‚¨å¯ä»¥ä½¿ç”¨ `evmosd tx` å‘ç½‘ç»œæäº¤äº¤æ˜“ã€‚è¿™å°†åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­åˆ›å»ºã€ç­¾åå’Œå¹¿æ’­äº¤æ˜“ã€‚è¦ä½¿ç”¨é“¶è¡Œæ¨¡å—å°†ä»£å¸ä»å¯†é’¥ç¯ä¸­çš„ä¸€ä¸ªè´¦æˆ·å‘é€åˆ°å¦ä¸€ä¸ªåœ°å€ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
evmosd tx bank send [from_key_or_address] [to_address] [amount] \
--home ~/.tmp-evmosd \
--fees 50000000000aevmos \
-b block

# Example Output:
# ...
# txhash: 7BA2618295B789CC24BB13E654D9187CDD264F61FC446EB756EAC07AF3E7C40A
```

è¦æŸ¥çœ‹å…¶ä»–å¯ç”¨çš„äº¤æ˜“å‘½ä»¤ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# for all transaction commands
evmosd tx

# for Bank transaction subcommands
evmosd tx bank
```

ç°åœ¨æ‚¨å·²ç»å­¦ä¼šäº†å¦‚ä½•è¿è¡Œå’Œä¸ Evmos ç½‘ç»œäº¤äº’çš„åŸºç¡€çŸ¥è¯†ï¼Œè¯·å‰å¾€[é…ç½®](configuration.mdx)ä»¥è¿›è¡Œè¿›ä¸€æ­¥çš„è‡ªå®šä¹‰ã€‚


# Evmos CLI

`evmosd` is the all-in-one command-line interface (CLI). It allows you to run an Evmos node, manage wallets and interact
 with the Evmos network through queries and transactions. This introduction will explain how to install the `evmosd`
 binary onto your system and guide you through some simple examples how to use evmosd.

## Prerequisites

#### Go

Evmos is built using [Go](https://golang.org/dl/) version `1.20+`. Check your version with:

```bash
go version
```

Once you have installed the right version, confirm that your [`GOPATH`](https://golang.org/doc/gopath_code#GOPATH)
 is correctly configured by running the following command and adding it to your shell startup script:

```bash
export PATH=$PATH:$(go env GOPATH)/bin
```

#### jq

Evmos scripts are using [jq](https://stedolan.github.io/jq/download/) version `1.6+`. Check your version with:

```
jq --version
```

## Installation

You can download the latest binaries from the repo and install them, or 
you can build and install the `evmosd` binaries from source or using Docker.

### Download the binaries

- Go to the [releases section of the repository](https://github.com/evmos/evmos/releases)
- Choose the desired release or pre-release you want to install on your machine
- Select and download from the `Assets` dropdown the corresponding tar or zip file for your OS
- Extract the files. The `evmosd` binaries is located in the `bin` directory of the extrated files
- Add the `evmosd` binaries to your path, e.g. you can move it to `$(go env GOPATH)/bin`

After installation is done, check that the `evmosd` binaries have been successfully installed:

```bash
evmosd version
```

### Build From Source

Clone and build the Evmos from source using `git`. The `<tag>` refers to a release tag on Github. Check the latest Evmos
version on the [releases section of the repository](https://github.com/evmos/evmos/releases):

```bash
git clone https://github.com/evmos/evmos.git
cd evmos
git fetch
git checkout <tag>
make install
```

After installation is done, check that the evmosd binaries have been successfully installed:

```bash
evmosd version
```

:::info
If the `evmosd: command not found` error message is returned, confirm that you have configured [Go](#go) correctly.
:::

### Docker

When it comes to using Docker with Evmos, there are two options available:
Build a binary of the Evmos daemon inside a dockerized build environment
or build a Docker image, that can be used to spin up individual containers running the Evmos binary.
For information on how to achieve this,
proceed to the dedicated page on [working with Docker](./docker-build.md).

## Run an Evmos node

To become familiar with Evmos, you can run a local blockchain node that produces blocks and exposes EVM and Cosmos
endpoints. This allows you to deploy and interact with smart contracts locally or test core protocol functionality.

Run the local node by executing the `local_node.sh` script in the base directory of the repository:

```bash
./local_node.sh
```

The script stores the node configuration including the local default endpoints under `~/.tmp-evmosd/config/config.toml`.
If you have previously run the script, the script allows you to overwrite the existing configuration and start a new
local node.

Once your node is running you will see it validating and producing blocks in your local Evmos blockchain:

```bash
12:59PM INF executed block height=1 module=state num_invalid_txs=0 num_valid_txs=0 server=node
# ...
1:00PM INF indexed block exents height=7 module=txindex server=node
```

For more information on how to customize a local node,
head over to the [Single Node](./evmos-cli/single-node) page.

## Using `evmosd`

After installing the `evmosd` binary, you can run commands using:

```bash
evmosd [command]
```

There is also a `-h`, `--help` command available

```bash
evmosd -h
```

It is possible to maintain multiple node configurations at the same time. To specify a configuration use the `--home`
flag. In the following examples we will be using the default config for a local node, located at `~/.tmp-evmosd`.

### Manage wallets

You can manage your wallets using the evmosd binary to store private keys and sign transactions over CLI. To view all
keys use:

```bash
evmosd keys list \
--home ~/.tmp-evmosd \
--keyring-backend test

# Example Output:
# - address: evmos19xnmslvl0pcmydu4m52h2gf0std5ee5pfgpyuf
#   name: dev0
#   pubkey: '{"@type":"/ethermint.crypto.v1.ethsecp256k1.PubKey","key":"AzKouyoUL0UUS1qRUZdqyVsTPkCAFWwxx3+BTOw36nKp"}'
#   type: local
```

You can generate a new key/mnemonic with a `$NAME` with:

```bash
evmosd keys add [name] \
--home ~/.tmp-evmosd \
--keyring-backend test
```

To export your evmos key as an Ethereum private key (for use with [Metamask](./../../../use/connect-your-wallet/metamask)
 for example):

```bash
evmosd keys unsafe-export-eth-key [name] \
--home ~/.tmp-evmosd \
--keyring-backend test
```

For more about the available key commands, use the `--help` flag

```bash
evmosd keys -h
```

:::tip
For more information about the Keyring and its backend options, click [here](../concepts/keyring.md).
:::

### Interact with a Network

You can use evmosd to query information or submit transactions on the blockchain. Queries and transactions are requests
 that you send to an Evmos node through the Tendermint RPC.

:::tip
ğŸ‘‰ To use the CLI, you will need to provide a Tendermint RPC address for the `--node` flag.
Look for a publicly available addresses for testnet and mainnet in the [Networks](./../../develop/api/networks) page.
:::

#### Set Network Config

In the local setup the node is set to `tcp://localhost:26657`. You can view your node configuration with:

```bash
evmosd config \
--home ~/.tmp-evmosd
# Example Output
# {
# 	"chain-id": "evmos_9000-1",
# 	"keyring-backend": "test",
# 	"output": "text",
# 	"node": "tcp://localhost:26657",
# 	"broadcast-mode": "sync"
# }
```

You can set your node configuration to send requests to a different network by changing the endpoint with:

```bash
evmosd config node [tendermint-rpc-endpoint] \
--home ~/.tmp-evmosd
```

Learn about more node configurations [here](configuration.mdx).

#### Queries

You can query information on the blockchain using `evmosd query` (short `evmosd q`). To view the account balances by its
 address stored in the bank module, use:

```bash
evmosd q bank balances [adress] \
--home ~/.tmp-evmosd
# # Example Output:
# balances:
# - amount: "99999000000000000000002500"
#   denom: aevmos
```

To view other available query commands, use:

```bash
# for all Queries
evmosd q

# for querying commands in the bank module
evmosd q bank
```

#### Transactions

You can submit transactions to the network using `evmosd tx`. This creates, signs and broadcasts a tx in one command. To
 send tokens from an account in the keyring to another address with the bank module, use:

```bash
evmosd tx bank send [from_key_or_address] [to_address] [amount] \
--home ~/.tmp-evmosd \
--fees 50000000000aevmos \
-b block

# Example Output:
# ...
# txhash: 7BA2618295B789CC24BB13E654D9187CDD264F61FC446EB756EAC07AF3E7C40A
```

To view other available transaction commands, use:

```bash
# for all transaction commands
evmosd tx

# for Bank transaction subcommands
evmosd tx bank
```

Now that you've learned the basics of how to run and interact with an Evmos network,
head over to [configurations](configuration.mdx) for futher customization.
